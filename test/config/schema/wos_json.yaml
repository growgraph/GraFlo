general:
    name: wos
json:
    type: item
    descend_key: REC
    weight:
    -   source:
            name: location
        target:
            name: organization
        vertex:
        -   name: publication
            condition:
                _anchor: main
            mapper:
                _key: publication
    -   source:
            name: contributor
        target:
            name: location
        vertex:
        -   name: publication
            condition:
                _anchor: main
            mapper:
                _key: publication
    -   source:
            name: publisher
        target:
            name: location
        vertex:
        -   name: publication
            condition:
                _anchor: main
            mapper:
                _key: publication
    edges:
    -   how: all
        source:
            name: contributor
            _anchor: main
            weight_exclusive:
            -   seq_no
            -   role
        target:
            name: publication
            _anchor: main
            fields:
            -   _anchor
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: conference
    -   how: all
        source:
            name: publication
            _anchor: main
            fields:
            -   _anchor
        target:
            name: date
            _anchor: main
    -   how: all
        source:
            name: publication
            _anchor: main
            fields:
            -   _anchor
        target:
            name: medium_title
            _anchor: main
    -   how: all
        source:
            name: publisher
            _anchor: main
            weight_exclusive:
            -   seq_no
        target:
            name: publication
            _anchor: main
            fields:
            -   _anchor
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: publication_type
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: document_type
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: language
            weight_exclusive:
            -   type
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: bib_id
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: heading
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: subheading
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: subject
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: some_id
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: medium
    -   how: all
        source:
            name: medium
        target:
            name: medium_title
            _anchor: main
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: publication
            _anchor: reference
    -   how: 1-n
        source:
            name: contributor
            field: addr_no
            _anchor: main
            type: list
            all_value: 0
        target:
            name: location
            field: addr_no
            _anchor: main
            type: value
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: agency
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: grant_id
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: funding_text
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: keyword
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: abstract
    -   how: all
        source:
            name: publication
            _anchor: main
        target:
            name: edition
    maps:
    -   how: dict
        name: publication
        __extra:
            _anchor: main
        map:
            UID: _key
    -   type: item
        descend_key: static_data
        maps:
        -   type: item
            descend_key: summary
            maps:
            -   type: item
                descend_key: EWUID
                maps:
                -   type: list
                    descend_key: edition
                    maps:
                    -   how: dict
                        name: edition
                        map:
                            '@value': name
            -   type: item
                descend_key: pub_info
                maps:
                -   how: dict
                    name: publication
                    __extra:
                        _anchor: main
                    map:
                        '@has_abstract': has_abstract
                        '@vol': volume
                        '@issue': issue
                        '@supplement': supplement
                -   how: dict
                    name: date
                    __extra:
                        _anchor: main
                    transforms:
                    -   foo: parse_date_standard
                        module: graph_cast.util.transform
                        input:
                        -   '@sortdate'
                        output:
                        -   year
                        -   month
                        -   day
                -   how: dict
                    name: publication_type
                    map:
                        '@pubtype': type
                -   type: item
                    descend_key: page
                    maps:
                    -   how: dict
                        name: publication
                        __extra:
                            _anchor: main
                        map:
                            '@begin': first_page
                            '@end': last_page
                            '@page_count': page_count
                            '#text': str_pages
            -   type: item
                descend_key: titles
                maps:
                -   type: list
                    descend_key: title
                    maps:
                    -   how: dict
                        name: publication
                        __extra:
                            _anchor: main
                        filter:
                            '@type': item
                        map:
                            '#text': title
                    -   how: dict
                        name: medium_title
                        __extra:
                            _anchor: main
                        unfilter:
                            '@type': item
                        map:
                            '#text': title
            -   type: item
                descend_key: names
                maps:
                -   type: list
                    descend_key: name
                    maps:
                    -   type: item
                        maps:
                        -   how: dict
                            name: contributor
                            __extra:
                                _anchor: main
                            map:
                                '@seq_no': seq_no
                                '@addr_no': addr_no
                                '@dais_id': dais_id
                                '@role': role
                                email_addr: email
            -   type: item
                descend_key: doctypes
                maps:
                -   type: list
                    descend_key: doctype
                    maps:
                    -   how: dict
                        name: document_type
                        map:
                            '#text': name
            -   type: item
                descend_key: publishers
                maps:
                -   type: list
                    descend_key: publisher
                    maps:
                    -   type: item
                        edges:
                        -   how: all
                            source:
                                name: publisher
                                weight_exclusive:
                                -   seq_no
                                -   role
                            target:
                                name: location
                        maps:
                        -   type: item
                            descend_key: address_spec
                            maps:
                            -   how: dict
                                name: location
                                map:
                                    '@addr_no': addr_no
                        -   type: item
                            descend_key: names
                            maps:
                            -   type: list
                                descend_key: name
                                maps:
                                -   how: dict
                                    name: publisher
                                    __extra:
                                        _anchor: main
                                    map:
                                        '@seq_no': seq_no
                                        '@role': role
            -   type: item
                descend_key: conferences
                maps:
                -   type: list
                    descend_key: conference
                    edges:
                    -   how: all
                        source:
                            name: conference
                        target:
                            name: conference_title
                    -   how: all
                        source:
                            name: conference
                        target:
                            name: conference_info
                    -   how: all
                        source:
                            name: conference
                        target:
                            name: conference_sponsor
                    -   how: all
                        source:
                            name: conference
                        target:
                            name: location
                    -   how: all
                        source:
                            name: conference
                        target:
                            name: date
                    maps:
                    -   how: dict
                        name: conference
                        map:
                            '@conf_id': id
                    -   type: item
                        descend_key: conf_titles
                        maps:
                        -   type: list
                            descend_key: conf_title
                            maps:
                            -   how: dict
                                name: conference_title
                                map:
                                    '#text': title
                    -   type: item
                        descend_key: conf_infos
                        maps:
                        -   type: list
                            descend_key: conf_info
                            maps:
                            -   how: dict
                                name: conference_info
                                map:
                                    '#text': text
                    -   type: item
                        descend_key: conf_dates
                        maps:
                        -   type: list
                            descend_key: conf_date
                            maps:
                            -   how: dict
                                name: date
                                transforms:
                                -   foo: parse_date_conf
                                    module: graph_cast.util.transform
                                    input:
                                    -   '@conf_start'
                                    output:
                                    -   year
                                    -   month
                                    -   day
                    -   type: item
                        descend_key: conf_locations
                        maps:
                        -   type: list
                            descend_key: conf_location
                            edges:
                            -   how: all
                                source:
                                    name: location
                                target:
                                    name: organization
                                weight_exclusive:
                                -   _anchor
                            maps:
                            -   how: dict
                                name: location
                                __extra:
                                    _anchor: conference
                                map:
                                    conf_city: city
                                    conf_state: state
                            -   how: dict
                                name: organization
                                __extra:
                                    _anchor: conference
                                map:
                                    conf_host: name
                    -   type: item
                        descend_key: sponsors
                        maps:
                        -   type: list
                            descend_key: sponsor
                            maps:
                            -   how: dict
                                name: conference_sponsor
                                map:
                                    '#text': name
        -   type: item
            descend_key: fullrecord_metadata
            maps:
            -   type: item
                descend_key: languages
                maps:
                -   type: list
                    descend_key: language
                    maps:
                    -   how: dict
                        name: language
                        map:
                            '#text': name
                            '@type': type
            -   type: item
                descend_key: normalized_languages
                maps:
                -   type: list
                    descend_key: language
                    maps:
                    -   how: dict
                        name: language
                        map:
                            '#text': name
                            '@type': type
            -   type: item
                descend_key: normalized_doctypes
                maps:
                -   type: list
                    descend_key: doctype
                    maps:
                    -   how: dict
                        name: document_type
                        map:
                            '#text': name
            -   type: item
                descend_key: references
                maps:
                -   type: list
                    descend_key: reference
                    maps:
                    -   type: item
                        edges:
                        -   how: all
                            source:
                                name: publication
                            target:
                                name: date
                        -   how: all
                            source:
                                name: contributor
                            target:
                                name: publication
                        -   how: all
                            source:
                                name: publication
                            target:
                                name: medium_title
                        maps:
                        -   how: dict
                            name: publication
                            __extra:
                                _anchor: reference
                            map:
                                uid: _key
                                xref_doi: doi
                                page: first_page
                                citedTitle: title
                        -   type: item
                            descend_key: year
                            maps:
                            -   how: dict
                                name: date
                                transforms:
                                -   foo: parse_date_reference
                                    module: graph_cast.util.transform
                                    input:
                                    -   '#text'
                                    output:
                                    -   year
                        -   how: dict
                            name: medium_title
                            map:
                                citedWork: title
                        -   how: dict
                            descend_key: reference
                            name: contributor
                            map:
                                citedAuthor: wos_standard
            -   type: item
                descend_key: addresses
                maps:
                -   type: list
                    descend_key: address_name
                    maps:
                    -   type: item
                        descend_key: address_spec
                        edges:
                        -   how: all
                            source:
                                name: location
                            target:
                                name: organization
                                weight_exclusive:
                                -   pref
                        -   how: all
                            source:
                                name: organization
                            target:
                                name: suborganization
                        maps:
                        -   how: dict
                            name: location
                            __extra:
                                _anchor: main
                            map:
                                '@addr_no': addr_no
                        -   type: item
                            descend_key: organizations
                            maps:
                            -   type: list
                                descend_key: organization
                                maps:
                                -   how: dict
                                    name: organization
                                    map:
                                        '#text': name
                                        '@pref': pref
                        -   type: item
                            descend_key: suborganizations
                            maps:
                            -   type: list
                                descend_key: suborganization
                                maps:
                                -   how: dict
                                    name: suborganization
                                    map:
                                        '#text': name
            -   type: item
                descend_key: reprint_addresses
                maps:
                -   type: list
                    descend_key: address_name
                    edges:
                    -   how: 1-n
                        source:
                            name: contributor
                            field: addr_no
                            _anchor: reprint
                            type: list
                            all_value: 0
                        target:
                            name: location
                            _anchor: reprint
                            field: addr_no
                            type: value
                    maps:
                    -   type: item
                        descend_key: address_spec
                        edges:
                        -   how: all
                            source:
                                name: location
                            target:
                                name: organization
                                weight_exclusive:
                                -   pref
                        -   how: all
                            source:
                                name: organization
                            target:
                                name: suborganization
                        maps:
                        -   how: dict
                            name: location
                            __extra:
                                _anchor: reprint
                            map:
                                '@addr_no': addr_no
                        -   type: item
                            descend_key: organizations
                            maps:
                            -   type: list
                                descend_key: organization
                                maps:
                                -   how: dict
                                    name: organization
                                    map:
                                        '#text': name
                                        '@pref': pref
                        -   type: item
                            descend_key: suborganizations
                            maps:
                            -   type: list
                                descend_key: suborganization
                                maps:
                                -   how: dict
                                    name: suborganization
                                    map:
                                        '#text': name
                    -   type: item
                        descend_key: names
                        maps:
                        -   type: list
                            descend_key: name
                            maps:
                            -   type: item
                                maps:
                                -   how: dict
                                    name: contributor
                                    __extra:
                                        _anchor: reprint
                                    map:
                                        '@seq_no': seq_no
                                        '@addr_no': addr_no
                                        '@dais_id': dais_id
                                        email_addr: email
            -   type: item
                descend_key: category_info
                maps:
                -   type: item
                    descend_key: headings
                    maps:
                    -   type: list
                        descend_key: heading
                        maps:
                        -   how: dict
                            name: heading
                            map:
                                '#text': name
                -   type: item
                    descend_key: subheadings
                    maps:
                    -   type: list
                        descend_key: subheading
                        maps:
                        -   how: dict
                            name: subheading
                            map:
                                '#text': name
                -   type: item
                    descend_key: subjects
                    maps:
                    -   type: list
                        descend_key: subject
                        maps:
                        -   how: dict
                            name: subject
                            map:
                                '#text': name
            -   type: item
                descend_key: fund_ack
                maps:
                -   type: item
                    descend_key: fund_text
                    maps:
                    -   type: list
                        descend_key: p
                        maps:
                        -   how: dict
                            name: funding_text
                            map:
                                '#text': text
                -   type: item
                    descend_key: grants
                    maps:
                    -   type: list
                        descend_key: grant
                        edges:
                        -   how: all
                            source:
                                name: agency
                            target:
                                name: grant_id
                        maps:
                        -   how: dict
                            name: agency
                            map:
                                grant_agency: name
                        -   type: item
                            descend_key: grant_ids
                            maps:
                            -   type: list
                                descend_key: grant_id
                                maps:
                                -   how: dict
                                    name: grant_id
                                    map:
                                        '#text': id
            -   type: item
                descend_key: keywords
                maps:
                -   type: list
                    descend_key: keyword
                    maps:
                    -   how: dict
                        name: keyword
                        map:
                            '#text': name
            -   type: item
                descend_key: abstracts
                maps:
                -   type: list
                    descend_key: abstract
                    maps:
                    -   type: item
                        descend_key: abstract_text
                        maps:
                        -   type: list
                            descend_key: p
                            maps:
                            -   how: dict
                                name: abstract
                                map:
                                    '#text': text
        -   type: item
            descend_key: item
            maps:
            -   type: item
                descend_key: ids
                maps:
                -   how: dict
                    name: some_id
                    map:
                        '#text': id
            -   how: dict
                name: bib_id
                map:
                    bib_id: id
            -   type: item
                descend_key: keywords_plus
                maps:
                -   type: list
                    descend_key: keyword_plus
                    maps:
                    -   how: dict
                        name: keyword
                        map:
                            '#text': name
    -   type: item
        descend_key: dynamic_data
        maps:
        -   type: item
            descend_key: cluster_related
            maps:
            -   type: item
                descend_key: identifiers
                maps:
                -   type: list
                    descend_key: identifier
                    maps:
                    -   how: dict
                        name: medium
                        filter:
                            '@type': issn
                        map:
                            '@value': issn
                    -   how: dict
                        name: publication
                        filter:
                            '@type': xref_doi
                        map:
                            '@value': doi
vertex_collections:
    collections:
        publication:
            dbname: publications
            fields:
            -   _key
            -   volume
            -   issue
            -   title
            -   accession_no
            -   has_abstract
            -   doi
            -   funding_text
            -   art_no
            -   first_page
            -   last_page
            -   page_count
            -   str_pages
            index:
            -   _key
            transforms:
            -   foo: lower
                class: str
                fields:
                -   title
        medium:
            dbname: media
            fields:
            -   issn
            -   isbn
            -   eissn
            -   eisbn
            -   accession_no
            -   meeting_abs
            -   parent_book_doi
            index:
            -   issn
            -   isbn
            extra_index:
            -   type: hash
                unique: false
                fields:
                -   issn
        medium_title:
            dbname: media_title
            fields:
            -   title
            index:
            -   title
            transforms:
            -   foo: lower
                class: str
                fields:
                -   title
        language:
            dbname: languages
            fields:
            -   name
            index:
            -   name
            transforms:
            -   foo: lower
                class: str
                fields:
                -   name
        contributor:
            dbname: contributors
            fields:
            -   first_name
            -   last_name
            -   email
            -   display_name
            -   wos_standard
            -   orcid_id
            -   r_id
            -   dais_id
            index:
            -   first_name
            -   last_name
            -   email
            -   orcid_id
            -   r_id
            -   dais_id
            -   wos_standard
            transforms:
            -   foo: lower
                class: str
                fields:
                -   first_name
                -   last_name
                -   display_name
                -   wos_standard
            -   foo: standardize
                module: graph_cast.util.transform
                fields:
                -   wos_standard
        location:
            dbname: locations
            fields:
            -   country
            -   state
            -   city
            -   street
            -   full_address
            index:
            -   country
            -   state
            -   city
            extra_index:
            -   type: hash
                unique: false
                fields:
                -   country
            transforms:
            -   foo: lower
                class: str
                fields:
                -   country
                -   state
                -   city
                -   street
                -   full_address
        organization:
            dbname: organizations
            fields:
            -   name
            index:
            -   name
            transforms:
            -   foo: lower
                class: str
                fields:
                -   name
        suborganization:
            dbname: suborganizations
            fields:
            -   name
            index:
            -   name
            transforms:
            -   foo: lower
                class: str
                fields:
                -   name
        publication_type:
            dbname: publication_types
            fields:
            -   type
            index:
            -   type
        document_type:
            dbname: document_types
            fields:
            -   name
            index:
            -   name
        subject:
            dbname: subjects
            fields:
            -   name
            index:
            -   name
            transforms:
            -   foo: lower
                class: str
                fields:
                -   name
        keyword:
            dbname: keywords
            fields:
            -   name
            index:
            -   name
            transforms:
            -   foo: lower
                class: str
                fields:
                -   name
        edition:
            dbname: editions
            fields:
            -   name
            index:
            -   name
        abstract:
            dbname: abstracts
            fields:
            -   text
            index:
            -   text
        agency:
            dbname: agencies
            fields:
            -   name
            index:
            -   name
            transforms:
            -   foo: lower
                class: str
                fields:
                -   name
        grant_id:
            dbname: grant_ids
            fields:
            -   id
            index:
            -   id
        heading:
            dbname: headings
            fields:
            -   name
            index:
            -   name
            transforms:
            -   foo: lower
                class: str
                fields:
                -   name
        subheading:
            dbname: subheadings
            fields:
            -   name
            index:
            -   name
            transforms:
            -   foo: lower
                class: str
                fields:
                -   name
        funding_text:
            dbname: funding_texts
            fields:
            -   text
            index:
            -   text
        date:
            dbname: dates
            fields:
            -   year
            -   month
            -   day
            index:
            -   year
            -   month
            -   day
            transforms:
            -   foo: try_int
                module: graph_cast.util.transform
                fields:
                -   year
                -   month
                -   day
        publisher:
            dbname: publishers
            fields:
            -   display_name
            -   full_name
            index:
            -   display_name
            transforms:
            -   foo: lower
                class: str
                fields:
                -   display_name
        conference:
            dbname: conferences
            fields:
            -   id
            index:
            -   id
        conference_title:
            dbname: conference_titles
            fields:
            -   title
            index:
            -   title
            transforms:
            -   foo: lower
                class: str
                fields:
                -   title
        conference_info:
            dbname: conference_infos
            fields:
            -   text
            index:
            -   text
        conference_sponsor:
            dbname: conference_sponsors
            fields:
            -   name
            index:
            -   name
            transforms:
            -   foo: lower
                class: str
                fields:
                -   name
        some_id:
            dbname: some_ids
            fields:
            -   id
            index:
            -   id
        bib_id:
            dbname: bib_ids
            fields:
            -   id
            index:
            -   id
edge_collections:
    extra:
    -   source: contributor
        target: organization
        by: publication
        weight:
            _key: pubid
            year: year
extra:
    merge_collections:
    -   publication
