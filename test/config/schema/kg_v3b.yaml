general:
    ~name: kg_v3
json:
    ~maps:
    -   ~type: edge
        ~how: all
        source:
            ~name: publication
        target:
            ~name: mention
            ~_anchor: _top_level
    -   ~type: descend
        ~key: publication
        ~maps:
        -   ~type: dict
            ~name: publication
    -   ~type: descend
        ~key: top_level_mention
        ~maps:
        -   ~type: list
            ~maps:
            -   ~type: dict
                ~name: mention
                ~map:
                    hash: _key
                ~_anchor: _top_level
    -   ~type: descend
        ~key: map_mention_entity
        ~maps:
        -   ~type: list
            ~maps:
            -   ~type: edge
                ~how: all
                source:
                    ~name: mention
                target:
                    ~name: entity
            -   ~type: descend
                ~key: entity
                ~maps:
                -   ~type: dict
                    ~name: entity
                    ~map:
                        hash: _key
            -   ~type: descend
                ~key: mention
                ~maps:
                -   ~type: dict
                    ~name: mention
                    ~map:
                        hash: _key
    -   ~type: descend
        ~key: triples
        ~maps:
        -   ~type: list
            ~maps:
            -   ~type: descend
                ~key: triple_index
                ~maps:
                -   ~type: dict
                    ~_anchor: triple_index
                    ~name: mention
                    ~map:
                        hash: _key
            -   ~type: descend
                ~key: triple
                ~maps:
                -   ~type: list
                    ~maps:
                    -   ~type: dict
                        ~_anchor: core
                        ~name: mention
                        ~map:
                            role: _role
                            hash: _key
            -   ~type: edge
                ~how: all
                source:
                    ~name: mention
                    ~_anchor: triple_index
                target:
                    ~name: mention
                    ~_anchor: core
                    ~fields:
                    -   _role
                index:
                -   ~fields:
                    -   _role
extra:
    weights:
    -   source:
            ~name: mention
        target:
            ~name: entity
        weight:
        -   name: publication
            fields:
            -   _key

vertex_collections:
    collections:
    -   name: publication
        dbname: publications
        fields:
        -   arxiv
        -   doi
        -   created
        -   data_source
        indexes:
        -   fields:
            -   arxiv
            -   doi
        -   unique: false
            fields:
            -   created
        -   unique: false
            fields:
            -   created
    -   name: entity
        dbname: entities
        fields:
        -   linker_type
        -   ent_db_type
        -   id
        -   ent_type
        -   original_form
        -   description
        indexes:
        -   fields:
            -   id
            -   ent_type
    -   name: mention
        dbname: mentions
        fields:
        -   text
        indexes:
        -   unique: false
            fields:
            -   text
edge_collections:
    main:
    -   source: entity
        target: entity
        index:
        -   name: publication
            fields:
            -   _key
        -   fields_only: true
            unique: false
            fields:
            -   publication@_key
    -   ~source: entity
        ~target: entity
        ~collection_name_suffix: aux
        index:
        -   fields:
            -   start_date
            -   end_date
        -   fields:
            -   spec
    -   source: mention
        target: entity
        index:
        -   name: publication
            fields:
            -   _key
