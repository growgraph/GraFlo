general:
    name: ticker_history
table:
-   tabletype: _all
    transforms:
    -   foo: round_str
        module: graph_cast.util.transform
        params:
            ndigits: 3
        switch:
            Open:
            -   name
            -   value
    -   foo: round_str
        module: graph_cast.util.transform
        params:
            ndigits: 3
        switch:
            Close:
            -   name
            -   value
    -   foo: int
        module: builtins
        switch:
            Volume:
            -   name
            -   value
    -   foo: parse_date_yahoo
        module: graph_cast.util.transform
        map:
            Date: t_obs
    -   map:
            __ticker: oftic
vertex_collections:
    collections:
        ticker:
            basename: tickers
            fields:
            -   cusip
            -   cname
            -   oftic
            index:
            -   cusip
            -   cname
            -   oftic
        feature:
            basename: features
            fields:
            -   name
            -   value
            index:
            -   name
            -   value
            extra_index:
            -   type: hash
                unique: false
                fields:
                -   value
            -   type: hash
                unique: false
                fields:
                -   name
            filters:
            -   a:
                    field: name
                    foo: __eq__
                    value: Open
                b:
                    field: value
                    foo: __gt__
                    value: 0
            -   a:
                    field: name
                    foo: __eq__
                    value: Close
                b:
                    field: value
                    foo: __gt__
                    value: 0
edge_collections:
    main:
    -   source: ticker
        target: feature
        weight:
            fields:
            -   t_obs
        vertex:
        -   name: feature
            fields:
            -   name
        index:
        -   fields:
            -   t_obs
            -   name
