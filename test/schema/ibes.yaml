general:
    name: ibes
table:
-   tabletype: ibes
    encoding: ISO-8859-1
    transforms:
    -   foo: parse_date_ibes
        module: graph_cast.util.transform
        input:
        -   ANNDATS
        -   ANNTIMS
        output:
        -   datetime_announce
    -   foo: parse_date_ibes
        module: graph_cast.util.transform
        input:
        -   REVDATS
        -   REVTIMS
        output:
        -   datetime_review
    -   foo: cast_ibes_analyst
        module: graph_cast.util.transform
        input:
        -   ANALYST
        output:
        -   last_name
        -   initial
    -   map:
            CUSIP: cusip
            CNAME: cname
            OFTIC: oftic
    -   map:
            ESTIMID: aname
    -   map:
            ERECCD: erec
            ETEXT: etext
            IRECCD: irec
            ITEXT: itext

    vertex_collections:
    -   type: ticker
        map:
            CUSIP: cusip
            CNAME: cname
            OFTIC: oftic
    -   type: agency
        map:
            ESTIMID: aname
    -   type: analyst
    -   type: recommendation
        map:
            ERECCD: erec
            ETEXT: etext
            IRECCD: irec
            ITEXT: itext
    -   type: publication
vertex_collections:
    blanks:
    -   publication
    collections:
        publication:
            basename: publications
            fields:
            -   datetime_review
            -   datetime_announce
            extra_index:
            -   type: hash
                unique: false
                fields:
                -   datetime_review
            -   type: hash
                unique: false
                fields:
                -   datetime_announce
        ticker:
            basename: tickers
            fields:
            -   cusip
            -   cname
            -   oftic
            index:
            -   cusip
            -   cname
            -   oftic
        agency:
            basename: agencies
            fields:
            -   aname
            index:
            -   aname
        analyst:
            basename: analysts
            fields:
            -   last_name
            -   initial
            index:
            -   last_name
            -   initial
        recommendation:
            basename: recommendations
            fields:
            -   erec
            -   etext
            -   irec
            -   itext
            index:
            -   irec
edge_collections:
    main:
    -   source: publication
        target: ticker
    -   source: analyst
        target: agency
        weight:
        -   datetime_review
        -   datetime_announce
    -   source: analyst
        target: publication
    -   source: publication
        target: recommendation
