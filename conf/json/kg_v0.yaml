general:
    name: kg_v0
json:
    type: item
    weight:
    -   source:
            name: concept
        target:
            name: concept
        vertex:
        -   name: publication
            mapper:
                id: publication

    edges:
    -   how: all
        source:
            name: publication
        target:
            name: concept
            _anchor: meta
            fields:
            -   _anchor
#    weight:
#        - source:
#              name: publication
#          target:
#              name: concept
#          vertex:
#              - name: publication
#                field: id
#                condition:
#                    _anchor: main
    maps:
    -   how: dict
        name: publication
        map:
            publication_id: id

    -   type: item
        descend_key: triples
        maps:
        -   type: list
            maps:
            -   type: item
                edges:
                -   how: all
                    source:
                        name: concept
                        _anchor: meta
                    target:
                        name: concept
                        _anchor: core
                        weight_exclusive:
                        -   tritype
                maps:
                -   type: item
                    descend_key: triple_meta
                    maps:
                    -   how: dict
                        __extra:
                            _anchor: meta
                        name: concept
                -   type: list
                    descend_key: triple
                    maps:
                    -   how: dict
                        __extra:
                            _anchor: core
                        name: concept
                        map:
                            type: tritype


vertex_collections:
    collections:
        publication:
            basename: publications
            fields:
            -   id
            index:
            -   id
        concept:
            basename: concepts
            fields:
            -   hash
            -   text
            index:
            -   hash

